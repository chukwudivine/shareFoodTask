{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sharefood Recipe</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="grid search">
        <div class="grid-body">
          <div class="row">
            <div class="col-md-3">
              <h2 class="grid-title">filters</h2>
              <hr>
              <form action="{% url 'filter'%}">
              <h4>By Cuisine:</h4>
              <div class="form-group">
                <select class="form-select" name="cuisine" id="cuisine">
                  <option value="">All Cuisines</option>
                  <option value="African dish">African</option>
                  <option value="British dish">British</option>
                  <option value="Asian dish">Asian</option>
                  <option value="American dish">American</option>
                </select>
              </div>
              <div class="padding"></div>
              <h4>By Cooking Time:</h4>
              <div class="form-group">
                <select class="form-select" name="preparation_time" id="cooking_time">
                  <option value="">All Cooking Times</option>
                  <option value="15">15 minutes or less</option>
                  <option value="30">30 minutes</option>
                  <option value="60">60 minutes</option>
                  <option value="90">90 minutes or more</option>
                </select>
              </div>
              <div class="padding"></div>
              <h4>By ingredients:</h4>
              <div class="form-group">
                <label for="ingredients">Ingredients
                <input type="text" name="ingredients" id="ingredients" placeholder="Enter ingredients">
              </label>
              </div>
              <div class="form-group">
              <input class="btn btn-dark mt-3" type="submit" value="Filter">
              </div>
            </form>
            <div class="slider-primary">
                <div class="slider slider-horizontal" style="width: 152px;"><div class="slider-track"><div class="slider-selection" style="left: 30%; width: 50%;"></div><div class="slider-handle round" style="left: 30%;"></div><div class="slider-handle round" style="left: 80%;"></div></div><div class="tooltip top hide" style="top: -30px; left: 50.1px;"><div class="tooltip-arrow"></div><div class="tooltip-inner">300 : 800</div></div></div>
            </div>
            </div>
            <div class="col-md-9">
              <h2 class="text-danger">Sharefood Task</h2>
              <hr>
              <form action="{% url 'search' %}">
              <div class="input-group">
                <input type="text" class="form-control" name="search" placeholder="search recipies">
                <span class="input-group-btn">
                  <button class="btn btn-primary" type="submit"><i class="fa fa-search"></i></button>
                </span>
              </div>
              </form>
              {%if searchTerm%}
              <p>Showing all results matching "{{searchTerm}}"</p>
              {% else %}
              <p>Showing all recipies</p>
              {%endif%}
              <div class="padding"></div>
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                  <tr>
                    <th>Like recipe</th>
                    <th>Recipe name</th>
                    <th>Likes</th>
                    <th>Cooking time</th>
                  </tr>
                  </thead>

                  <tbody>
                    {% if recipes %}
                    {% for r in recipes %}
                  <tr>
                    <td>
                      <form action="{% url 'like' r.id %}" method="POST">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-warning text-danger"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i></button>
                    </form>
                    </td>
                    <td class="product"><strong>{{r.name}}</strong><br>{{r.ingredients}}.</td>
                    <td class="rate text-right">{{ r.likes }} <i class="fa fa-heart" aria-hidden="true"></i></td>
                    <td class="price text-right">{{r.preparation_time}} minutes</td>
                  </tr>
                  {% endfor %}
                  {% else %}
                    <p>No recipes found.</p>
                  {% endif %}
                </tbody></table>
              </div>
              <ul class="pagination">
                {% if recipes.has_previous %}
                <li class="page-item m-2"><a class="page-link active" href="?page=1">&laquo; First</a></li>
                <li class="page-item m-2"><a class="page-link" href="?page={{ resource.previous_page_number }}">Previous</a></li>
                {% endif %}
                {% if recipes.has_next %}
                <li class="page-item m-2"><a class="page-link" href="?page={{ recipes.next_page_number }}">NEXT</a></li>
                <li class="page-item m-2"><a class="page-link" href="?page={{ recipes.paginator.num_pages }}">Last &raquo;</a></li>
                {% endif %}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>